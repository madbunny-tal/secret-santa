(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{53:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var n=s(7876);s(4232);var r=s(9773),a=s(5870);function i(e){let{className:t,...s}=e;return(0,n.jsx)(r.b,{"data-slot":"label",className:(0,a.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}},727:(e,t,s)=>{"use strict";s.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>o,Zp:()=>a,aR:()=>i,wL:()=>c});var n=s(7876);s(4232);var r=s(5870);function a(e){let{className:t,...s}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function i(e){let{className:t,...s}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function o(e){let{className:t,...s}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...s})}function l(e){let{className:t,...s}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}function d(e){let{className:t,...s}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...s})}function c(e){let{className:t,...s}=e;return(0,n.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",t),...s})}},845:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var n=s(7876),r=s(7041),a=s(727),i=s(8871),o=s(8230),l=s.n(o),d=s(4232),c=s(491),m=s(5870);function u(e){let{className:t,...s}=e;return(0,n.jsx)(c.bL,{"data-slot":"tabs",className:(0,m.cn)("flex flex-col gap-2",t),...s})}function h(e){let{className:t,...s}=e;return(0,n.jsx)(c.B8,{"data-slot":"tabs-list",className:(0,m.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function x(e){let{className:t,...s}=e;return(0,n.jsx)(c.l9,{"data-slot":"tabs-trigger",className:(0,m.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function p(e){let{className:t,...s}=e;return(0,n.jsx)(c.UC,{"data-slot":"tabs-content",className:(0,m.cn)("flex-1 outline-none",t),...s})}var g=s(2161),f=s(53),b=s(8971),j=s(9099),v=s(9688),w=s(7739);let y=()=>{let[e,t]=(0,d.useState)([]),[s,o]=(0,d.useState)({comm:"",owner:""}),[c,m]=(0,d.useState)(!1),[y,k]=(0,d.useState)(null),N=(0,j.useRouter)(),_=e=>{N.push("/community/"+e)};(0,d.useEffect)(()=>{(async()=>{let{data:e,error:s}=await i.A.from("community").select("*, member(mem_id, mem_name), status(status_name)");s?console.log("error: ",s):(console.log(e),t(e.map(e=>({...e,comm_token:""}))))})()},[i.A]);let C=async()=>{let{error:e}=await i.A.from("community").select("*").eq("comm_token",null==y?void 0:y.comm_token).eq("comm_id",null==y?void 0:y.comm_id);if(e)console.log("error: ",e);else{let e=null==y?void 0:y.comm_token;k(null),_(e||"")}},z=async e=>{e.preventDefault();let s=new FormData(e.currentTarget);try{console.log(Object.fromEntries(s));let e=Object.fromEntries(s);delete e.mem_name,delete e.mem_token,e.comm_status="CR";let{data:n,error:r}=await i.A.from("community").insert(e).select("*, status(status_name)");if(console.log(n),r)console.log(r);else{n&&t(e=>[...n,...e]);let e=Object.fromEntries(s);delete e.comm_desc,delete e.comm_name,delete e.comm_token,console.log(e),e.comm_id=n[0].comm_id,await I(e),(0,v.oR)("Community added successfully"),m(!1)}}catch(e){console.log(e)}},I=async e=>{let{data:t,error:s}=await i.A.from("member").insert(e).select("mem_id");s?console.log(s):(console.log(t),await i.A.from("community").update({comm_owner:t[0].mem_id}).eq("comm_id",e.comm_id))};return(0,n.jsxs)("div",{className:"container mx-auto py-8 w-10/12",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Secret Santa"}),(0,n.jsx)("div",{className:"flex w-full gap-6 mb-4",children:(0,n.jsxs)(u,{defaultValue:"what",className:"w-full mb-4",children:[(0,n.jsxs)(h,{children:[(0,n.jsx)(x,{value:"what",children:"What is it?"}),(0,n.jsx)(x,{value:"how",children:"How does it work?"}),(0,n.jsx)(x,{value:"join",children:"Who can join?"}),(0,n.jsx)(x,{value:"made",children:"Who made this?"})]}),(0,n.jsx)(p,{value:"what",children:(0,n.jsx)(a.Zp,{children:(0,n.jsxs)(a.Wu,{children:[(0,n.jsx)("p",{children:"Secret Santa is an event to gift each other anonymously."}),(0,n.jsx)("br",{}),(0,n.jsx)("p",{children:"This website helps you hold Secret Santa event with art as gift."}),(0,n.jsx)("p",{children:"Members will have their desired character drawn and draw for other member."}),(0,n.jsx)("p",{children:"To whom or from who the art is will be secret until the event is finished!"})]})})}),(0,n.jsx)(p,{value:"how",children:(0,n.jsx)(a.Zp,{children:(0,n.jsxs)(a.Wu,{children:[(0,n.jsx)("p",{children:"First, you need to gather member of your community"}),(0,n.jsxs)("ul",{className:"list-disc pl-4 pt-2",children:[(0,n.jsx)("li",{children:'Click "create community". Save both "community token" and "member (owner) token"'}),(0,n.jsx)("li",{children:'Share your "community token" to your friends who would like to join.'}),(0,n.jsx)("li",{children:'Your friend enter community page with the token and click "I\'m a new member!".'}),(0,n.jsx)("li",{children:'Your friend copies their "member token" to update progress later'})]}),(0,n.jsx)("br",{}),(0,n.jsx)("p",{children:"Then, everyone upload reference image and description of the character they want"}),(0,n.jsxs)("ul",{className:"list-disc pl-4 pt-2",children:[(0,n.jsx)("li",{children:'Each members go to community page with the shared "community token"'}),(0,n.jsx)("li",{children:'Member goes to their own dashboard by clicking "I\'m a member" and enter their "member token"'}),(0,n.jsx)("li",{children:"Member submits their reference and description"}),(0,n.jsx)("li",{children:"Reference submission progress can be seen through community dashboard"})]}),(0,n.jsx)("br",{}),(0,n.jsx)("p",{children:"Once all submissions are complete, start the event!"}),(0,n.jsxs)("ul",{className:"list-disc pl-4 pt-2",children:[(0,n.jsx)("li",{children:"Owner goes to community page"}),(0,n.jsx)("li",{children:'Owner clicks "I\'m a member" and enter their "member (owner) token"'}),(0,n.jsx)("li",{children:'Owner\'s dashboard will be open in new tab, while community page will have "Start secret santa" button'}),(0,n.jsx)("li",{children:"Click the button to exchange references among members"})]}),(0,n.jsx)("br",{}),(0,n.jsx)("p",{children:"Wait everyone to complete their gift"}),(0,n.jsxs)("ul",{className:"list-disc pl-4 pt-2",children:[(0,n.jsx)("li",{children:'Members go to community page with the shared "community token"'}),(0,n.jsx)("li",{children:'Member goes to their own dashboard by clicking "I\'m a member" and enter their "member token"'}),(0,n.jsx)("li",{children:"Member download reference and start drawing"}),(0,n.jsx)("li",{children:"Once done, member upload the result at their own dashboard."})]}),(0,n.jsx)("br",{}),(0,n.jsx)("p",{children:"After all gifts submitted, owner reveals the results"}),(0,n.jsxs)("ul",{className:"list-disc pl-4 pt-2",children:[(0,n.jsx)("li",{children:"Owner goes to community page and their personal dashboard"}),(0,n.jsx)("li",{children:'Owner\'s dashboard will be open in new tab, while community page will have "Reveal result" button'}),(0,n.jsx)("li",{children:"Click the button and all the gifts will be displayed"})]})]})})}),(0,n.jsx)(p,{value:"join",children:(0,n.jsx)(a.Zp,{children:(0,n.jsx)(a.Wu,{children:"Anyone can join! Ask your community to join the event"})})}),(0,n.jsx)(p,{value:"made",children:(0,n.jsx)(a.Zp,{children:(0,n.jsxs)(a.Wu,{children:[(0,n.jsxs)("p",{className:"mb-4",children:[(0,n.jsx)(l(),{className:"font-bold",href:"https://madbunnymerch.netlify.app/about",target:"_blank",children:"Tal"})," did! If anything, you can ask her. She's the admin."]}),(0,n.jsx)(l(),{href:"https://madbunnytal.carrd.co/",target:"_blank",children:(0,n.jsx)("u",{children:(0,n.jsx)("i",{children:"Tal's carrd"})})})]})})})]})}),(0,n.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Join Community"}),(0,n.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-2 mb-4",children:e.map(e=>{var t;return(0,n.jsxs)(a.Zp,{className:"w-full",children:[(0,n.jsx)(a.Wu,{children:(0,n.jsxs)("div",{className:"mt-4 flex justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold text-xl",children:e.comm_name}),(0,n.jsxs)("h4",{className:"font-semibold text-2sl",children:["Status: ",e.status.status_name]}),(0,n.jsx)("p",{children:e.comm_desc})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"font-semibold text-xl",children:null==(t=e.member)?void 0:t.length})," member"]})]})}),(0,n.jsx)(a.wL,{children:(0,n.jsx)(r.$,{onClick:()=>k(e),className:"w-full font-bold",size:"lg",children:"Open"})})]},e.comm_id)})}),(0,n.jsxs)(g.lG,{open:c,onOpenChange:m,children:[(0,n.jsx)(g.zM,{asChild:!0,children:(0,n.jsx)(r.$,{className:"font-bold",onClick:()=>o({comm:Math.random().toString(20).substring(2,6).toUpperCase(),owner:Math.random().toString(20).substring(2,6).toUpperCase()}),children:"Create new community"})}),(0,n.jsx)(g.Cf,{className:"sm:max-w-md",children:(0,n.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,n.jsxs)(g.c7,{children:[(0,n.jsx)(g.L3,{children:"Add Community"}),(0,n.jsx)(g.rr,{children:"Create Secret Santa event for your community"})]}),(0,n.jsx)("div",{className:"grid w-full gap-4",children:(0,n.jsxs)("div",{className:"grid-w-full gap-1.5",children:[(0,n.jsx)(f.J,{htmlFor:"comm_name",children:"Community Name"}),(0,n.jsx)(b.p,{id:"comm_name",name:"comm_name",placeholder:"Insert community name",required:!0})]})}),(0,n.jsx)("div",{className:"grid w-full gap-4",children:(0,n.jsxs)("div",{className:"grid-w-full gap-1.5",children:[(0,n.jsx)(f.J,{htmlFor:"comm_desc",children:"Description"}),(0,n.jsx)(w.T,{id:"comm_desc",name:"comm_desc",placeholder:"Insert Community Description",className:"resize-none h-32",required:!0})]})}),(0,n.jsx)("div",{className:"grid w-full gap-4",children:(0,n.jsxs)("div",{className:"grid-w-full gap-1.5",children:[(0,n.jsx)(f.J,{htmlFor:"comm_token",children:"Community Token"}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(b.p,{value:s.comm,id:"comm_token",name:"comm_token",className:"w-9/12",readOnly:!0}),(0,n.jsx)(r.$,{className:"w-3/12 ",onClick:()=>{navigator.clipboard.writeText(s.comm),(0,v.oR)("Token copied! Please save it to check community progresss")},children:"Copy"})]}),(0,n.jsx)(g.rr,{children:"Share this token within your community so they can register"})]})}),(0,n.jsx)("div",{className:"grid w-full gap-4",children:(0,n.jsxs)("div",{className:"grid-w-full gap-1.5",children:[(0,n.jsx)(f.J,{htmlFor:"mem_name",children:"Owner Name"}),(0,n.jsx)(b.p,{id:"mem_name",name:"mem_name",placeholder:"Insert your name",required:!0})]})}),(0,n.jsx)("div",{className:"grid w-full gap-4",children:(0,n.jsxs)("div",{className:"grid-w-full gap-1.5",children:[(0,n.jsx)(f.J,{htmlFor:"mem_token",children:"Member Token (Owner)"}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(b.p,{value:s.owner,id:"mem_token",name:"mem_token",className:"w-9/12",readOnly:!0}),(0,n.jsx)(r.$,{className:"w-3/12 ",onClick:()=>{navigator.clipboard.writeText(s.owner),(0,v.oR)("Token copied! Please save it to update your progress")},children:"Copy"})]}),(0,n.jsx)(g.rr,{children:"Keep this token for yourself to update your community and progress."})]})}),(0,n.jsx)(g.Es,{children:(0,n.jsxs)(g.HM,{children:[(0,n.jsx)(r.$,{type:"button",variant:"secondary",className:"cursor-pointer",children:"Cancel"}),(0,n.jsx)(r.$,{type:"submit",className:"cursor-pointer",children:"Register"})]})})]})})]}),(0,n.jsx)(g.lG,{open:null!==y,onOpenChange:e=>{e||k(null)},children:(0,n.jsxs)(g.Cf,{className:"sm:max-w-md",children:[(0,n.jsxs)(g.c7,{children:[(0,n.jsx)(g.L3,{children:null==y?void 0:y.comm_name}),(0,n.jsx)(g.rr,{children:"Go to community page"})]}),(0,n.jsxs)("div",{className:"grid w-full gap-4",children:[(0,n.jsx)("div",{className:"grid-w-full gap-1.5"}),(0,n.jsx)(f.J,{children:"Community token"}),(0,n.jsx)(b.p,{placeholder:"Insert 4 digits token",value:null==y?void 0:y.comm_token,onChange:e=>k(y?{...y,comm_token:e.currentTarget.value}:y),required:!0})]}),(0,n.jsx)(g.Es,{children:(0,n.jsxs)(g.HM,{children:[(0,n.jsx)(r.$,{variant:"secondary",type:"button",className:"cursor-pointer",children:"Cancel"}),(0,n.jsx)(r.$,{onClick:C,className:"cursor-pointer",children:"Enter"})]})})]})})]})}},2161:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>u,Es:()=>x,HM:()=>c,L3:()=>p,c7:()=>h,lG:()=>o,rr:()=>g,zM:()=>l});var n=s(7876);s(4232);var r=s(6303),a=s(672),i=s(5870);function o(e){let{...t}=e;return(0,n.jsx)(r.bL,{"data-slot":"dialog",...t})}function l(e){let{...t}=e;return(0,n.jsx)(r.l9,{"data-slot":"dialog-trigger",...t})}function d(e){let{...t}=e;return(0,n.jsx)(r.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{...t}=e;return(0,n.jsx)(r.bm,{"data-slot":"dialog-close",...t})}function m(e){let{className:t,...s}=e;return(0,n.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function u(e){let{className:t,children:s,showCloseButton:o=!0,...l}=e;return(0,n.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,n.jsx)(m,{}),(0,n.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...l,children:[s,o&&(0,n.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,n.jsx)(a.A,{}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function h(e){let{className:t,...s}=e;return(0,n.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function x(e){let{className:t,...s}=e;return(0,n.jsx)("div",{"data-slot":"dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function p(e){let{className:t,...s}=e;return(0,n.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",t),...s})}function g(e){let{className:t,...s}=e;return(0,n.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...s})}},5870:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var n=s(9241),r=s(9573);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,n.$)(t))}},6760:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(845)}])},7041:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var n=s(7876);s(4232);var r=s(2987),a=s(9518),i=s(5870);let o=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:s,size:a,asChild:l=!1,...d}=e,c=l?r.DX:"button";return(0,n.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:s,size:a,className:t})),...d})}},7739:(e,t,s)=>{"use strict";s.d(t,{T:()=>a});var n=s(7876);s(4232);var r=s(5870);function a(e){let{className:t,...s}=e;return(0,n.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}},8871:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(6879).UU)("https://mqichvjbjuhwmbtpnklj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1xaWNodmpianVod21idHBua2xqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzODA1NzgsImV4cCI6MjA2Njk1NjU3OH0.pNK_Y1-e6ZaLOwZyLKcpppWK1MkAPRzQRIRgzqhvnYM")},8971:(e,t,s)=>{"use strict";s.d(t,{p:()=>a});var n=s(7876);s(4232);var r=s(5870);function a(e){let{className:t,type:s,...a}=e;return(0,n.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...a})}}},e=>{var t=t=>e(e.s=t);e.O(0,[862,672,664,636,593,792],()=>t(6760)),_N_E=e.O()}]);